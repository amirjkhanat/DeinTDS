var we=Object.defineProperty,Z=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,J=(e,t,r)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))_e.call(t,r)&&J(e,r,t[r]);if(Z)for(var r of Z(t))ye.call(t,r)&&J(e,r,t[r]);return e};import{defineComponent as Ee,getCurrentInstance as be,h as Ce}from"vue";function Q(e,t){const r=new Set(e.split(","));return t?s=>r.has(s.toLowerCase()):s=>r.has(s)}var Ct={},Ot=[],Oe=Object.prototype.hasOwnProperty,y=(e,t)=>Oe.call(e,t),m=Array.isArray,E=e=>X(e)==="[object Map]",Ie=e=>typeof e=="string",b=e=>typeof e=="symbol",C=e=>e!==null&&typeof e=="object",Re=Object.prototype.toString,X=e=>Re.call(e),Pe=e=>X(e).slice(8,-1),$=e=>Ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,O=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Me=/-(\w)/g,It=O(e=>e.replace(Me,(t,r)=>r?r.toUpperCase():"")),Se=/\B([A-Z])/g,Rt=O(e=>e.replace(Se,"-$1").toLowerCase()),Ae=O(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pt=O(e=>e?`on${Ae(e)}`:""),I=(e,t)=>!Object.is(e,t),Te=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},De="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mt=Q(De+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),ee;function xe(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}var R=!0,j=0,te=[];function Fe(){te.push(R),R=!1}function $e(){const e=te.pop();R=e===void 0?!0:e}function L(){j++}function V(){for(j--;!j&&z.length;)z.shift()()}function je(e,t,r){var s;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&xe(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}var z=[];function Le(e,t,r){var s;L();for(const n of e.keys()){let o;n._dirtyLevel<t&&(o??(o=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(o??(o=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&z.push(n.scheduler)))}V()}var Ve=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},K=new WeakMap,v=Symbol(""),B=Symbol("");function f(e,t,r){if(R&&ee){let s=K.get(e);s||K.set(e,s=new Map);let n=s.get(r);n||s.set(r,n=Ve(()=>s.delete(r))),je(ee,n,void 0)}}function p(e,t,r,s,n,o){const a=K.get(e);if(!a)return;let i=[];if(t==="clear")i=[...a.values()];else if(r==="length"&&m(e)){const l=Number(s);a.forEach((d,u)=>{(u==="length"||!b(u)&&u>=l)&&i.push(d)})}else switch(r!==void 0&&i.push(a.get(r)),t){case"add":m(e)?$(r)&&i.push(a.get("length")):(i.push(a.get(v)),E(e)&&i.push(a.get(B)));break;case"delete":m(e)||(i.push(a.get(v)),E(e)&&i.push(a.get(B)));break;case"set":E(e)&&i.push(a.get(v));break}L();for(const l of i)l&&Le(l,4,void 0);V()}var ze=Q("__proto__,__v_isRef,__isVue"),re=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(b)),ne=Ke();function Ke(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=c(this);for(let o=0,a=this.length;o<a;o++)f(s,"get",o+"");const n=s[t](...r);return n===-1||n===!1?s[t](...r.map(c)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Fe(),L();const s=c(this)[t].apply(this,r);return V(),$e(),s}}),e}function Be(e){const t=c(this);return f(t,"has",e),t.hasOwnProperty(e)}var se=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const s=this._isReadonly,n=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return n;if(t==="__v_raw")return r===(s?n?et:fe:n?Xe:ue).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=m(e);if(!s){if(o&&y(ne,t))return Reflect.get(ne,t,r);if(t==="hasOwnProperty")return Be}const a=Reflect.get(e,t,r);return(b(t)?re.has(t):ze(t))||(s||f(e,"get",t),n)?a:N(a)?o&&$(t)?a:a.value:C(a)?s?pe(a):de(a):a}},Ue=class extends se{constructor(e=!1){super(!1,e)}set(e,t,r,s){let n=e[t];if(!this._isShallow){const i=W(n);if(!nt(r)&&!W(r)&&(n=c(n),r=c(r)),!m(e)&&N(n)&&!N(r))return i?!1:(n.value=r,!0)}const o=m(e)&&$(t)?Number(t)<e.length:y(e,t),a=Reflect.set(e,t,r,s);return e===c(s)&&(o?I(r,n)&&p(e,"set",t,r,n):p(e,"add",t,r)),a}deleteProperty(e,t){const r=y(e,t),s=e[t],n=Reflect.deleteProperty(e,t);return n&&r&&p(e,"delete",t,void 0,s),n}has(e,t){const r=Reflect.has(e,t);return(!b(t)||!re.has(t))&&f(e,"has",t),r}ownKeys(e){return f(e,"iterate",m(e)?"length":v),Reflect.ownKeys(e)}},We=class extends se{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},Ge=new Ue,Ye=new We,U=e=>e,P=e=>Reflect.getPrototypeOf(e);function M(e,t,r=!1,s=!1){e=e.__v_raw;const n=c(e),o=c(t);r||(I(t,o)&&f(n,"get",t),f(n,"get",o));const{has:a}=P(n),i=s?U:r?H:Y;if(a.call(n,t))return i(e.get(t));if(a.call(n,o))return i(e.get(o));e!==n&&e.get(t)}function S(e,t=!1){const r=this.__v_raw,s=c(r),n=c(e);return t||(I(e,n)&&f(s,"has",e),f(s,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function A(e,t=!1){return e=e.__v_raw,!t&&f(c(e),"iterate",v),Reflect.get(e,"size",e)}function oe(e){e=c(e);const t=c(this);return P(t).has.call(t,e)||(t.add(e),p(t,"add",e,e)),this}function ae(e,t){t=c(t);const r=c(this),{has:s,get:n}=P(r);let o=s.call(r,e);o||(e=c(e),o=s.call(r,e));const a=n.call(r,e);return r.set(e,t),o?I(t,a)&&p(r,"set",e,t,a):p(r,"add",e,t),this}function ie(e){const t=c(this),{has:r,get:s}=P(t);let n=r.call(t,e);n||(e=c(e),n=r.call(t,e));const o=s?s.call(t,e):void 0,a=t.delete(e);return n&&p(t,"delete",e,void 0,o),a}function le(){const e=c(this),t=e.size!==0,r=void 0,s=e.clear();return t&&p(e,"clear",void 0,void 0,r),s}function T(e,t){return function(s,n){const o=this,a=o.__v_raw,i=c(a),l=t?U:e?H:Y;return!e&&f(i,"iterate",v),a.forEach((d,u)=>s.call(n,l(d),l(u),o))}}function D(e,t,r){return function(...s){const n=this.__v_raw,o=c(n),a=E(o),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,d=n[e](...s),u=r?U:t?H:Y;return!t&&f(o,"iterate",l?B:v),{next(){const{value:_,done:F}=d.next();return F?{value:_,done:F}:{value:i?[u(_[0]),u(_[1])]:u(_),done:F}},[Symbol.iterator](){return this}}}}function h(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function He(){const e={get(o){return M(this,o)},get size(){return A(this)},has:S,add:oe,set:ae,delete:ie,clear:le,forEach:T(!1,!1)},t={get(o){return M(this,o,!1,!0)},get size(){return A(this)},has:S,add:oe,set:ae,delete:ie,clear:le,forEach:T(!1,!0)},r={get(o){return M(this,o,!0)},get size(){return A(this,!0)},has(o){return S.call(this,o,!0)},add:h("add"),set:h("set"),delete:h("delete"),clear:h("clear"),forEach:T(!0,!1)},s={get(o){return M(this,o,!0,!0)},get size(){return A(this,!0)},has(o){return S.call(this,o,!0)},add:h("add"),set:h("set"),delete:h("delete"),clear:h("clear"),forEach:T(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=D(o,!1,!1),r[o]=D(o,!0,!1),t[o]=D(o,!1,!0),s[o]=D(o,!0,!0)}),[e,r,t,s]}var[Ne,qe,ke,Ze]=He();function ce(e,t){const r=t?e?Ze:ke:e?qe:Ne;return(s,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(y(r,n)&&n in s?r:s,n,o)}var Je={get:ce(!1,!1)},Qe={get:ce(!0,!1)},ue=new WeakMap,Xe=new WeakMap,fe=new WeakMap,et=new WeakMap;function tt(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rt(e){return e.__v_skip||!Object.isExtensible(e)?0:tt(Pe(e))}function de(e){return W(e)?e:he(e,!1,Ge,Je,ue)}function pe(e){return he(e,!0,Ye,Qe,fe)}function he(e,t,r,s,n){if(!C(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const a=rt(e);if(a===0)return e;const i=new Proxy(e,a===2?s:r);return n.set(e,i),i}function W(e){return!!(e&&e.__v_isReadonly)}function nt(e){return!!(e&&e.__v_isShallow)}function c(e){const t=e&&e.__v_raw;return t?c(t):e}function G(e){return Object.isExtensible(e)&&Te(e,"__v_skip",!0),e}var Y=e=>C(e)?de(e):e,H=e=>C(e)?pe(e):e;function N(e){return!!(e&&e.__v_isRef===!0)}import{ALWAYS_SYNC_GLOBAL_EVENTS as st,ComponentUtil as q,createGrid as ot}from"ag-grid-community";import{ComponentUtil as w}from"ag-grid-community";var at=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),it=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,lt=()=>{const e={};w.PUBLIC_EVENTS.map(n=>it(at(n))).forEach(n=>e[n]=void 0);const r={props(){const n={};return w.ALL_PROPERTIES.forEach(o=>{var a;this[o]!==w.VUE_OMITTED_PROPERTY&&(o in this||o in this.gridOptions)&&(n[o]=(a=this[o])!=null?a:this.gridOptions[o])}),n}},s={modelValue:{handler(n,o){!this.gridCreated||!this.api||n!==o&&(n&&o&&n.length===o.length&&n.every((a,i)=>a===o[i])||w.processOnChange({rowData:n},this.api))},deep:!0},props:{handler(n,o){if(!this.gridCreated||!this.api)return;const a={};Object.entries(n).forEach(([i,l])=>{o[i]!==l&&(a[i]=l)}),w.processOnChange(a,this.api)},deep:!0}};return w.ALL_PROPERTIES.filter(n=>n!="gridOptions").forEach(n=>{e[n]={default:w.VUE_OMITTED_PROPERTY}}),[e,r,s]};import{BaseComponentWrapper as ct}from"ag-grid-community";import{createVNode as ut,defineComponent as ft,render as ge}from"vue";var k=class ve{static getComponentDefinition(t,r){let s;return typeof t=="string"?s=this.searchForComponentInstance(r,t):s={extends:ft(g({},t))},s||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),s.extends?(s.extends.setup&&(s.setup=s.extends.setup),s.extends.props=this.addParamsToProps(s.extends.props)):s.props=this.addParamsToProps(s.props),s}static addParamsToProps(t){return!t||Array.isArray(t)&&t.indexOf("params")===-1?t=["params",...t||[]]:typeof t=="object"&&!t.params&&(t.params={type:Object}),t}static createAndMountComponent(t,r,s,n){const o=ve.getComponentDefinition(t,s);if(!o)return;const{vNode:a,destroy:i,el:l}=this.mount(o,{params:Object.freeze(r)},s,n||{});return{componentInstance:a.component.proxy,element:l,destroy:i}}static mount(t,r,s,n){let o=ut(t,r);o.appContext=s.$.appContext,o.appContext.provides=g(g(g({},n),o.appContext.provides?o.appContext.provides:{}),s.$parent.$options.provide?s.$parent.$options.provide:{});let a=document.createElement("div");return ge(o,a),{vNode:o,destroy:()=>{a&&ge(null,a),a=null,o=null},el:a}}static searchForComponentInstance(t,r,s=10,n=!1){let o=null,a=t.$parent,i=0;for(;!o&&a&&a.$options&&++i<s;){const l=a;l.$options&&l.$options.components&&l.$options.components[r]?o=l.$options.components[r]:l[r]&&(o=l[r]),a=a.$parent}if(!o){const l=t.$.appContext.components;l&&l[r]&&(o=l[r])}return!o&&!n?(console.error(`Could not find component with name of ${r}. Is it in Vue.components?`),null):o}},dt=class x extends ct{constructor(t,r){super(),this.parent=t,x.provides||(x.provides=r)}createWrapper(t){const r=this;class s extends pt{init(a){super.init(a)}hasMethod(a){const i=n.getFrameworkComponentInstance();return i[a]?!0:i.$.setupState[a]!=null}callMethod(a,i){var l;const d=this.getFrameworkComponentInstance(),u=n.getFrameworkComponentInstance();return u[a]?u[a].apply(d,i):(l=u.$.setupState[a])==null?void 0:l.apply(d,i)}addMethod(a,i){n[a]=i}overrideProcessing(a){return r.parent.autoParamsRefresh&&a==="refresh"}processMethod(a,i){return a==="refresh"&&(this.getFrameworkComponentInstance().params=i[0]),this.hasMethod(a)?this.callMethod(a,i):a==="refresh"}createComponent(a){return r.createComponent(t,a)}}const n=new s;return n}createComponent(t,r){return k.createAndMountComponent(t,r,this.parent,x.provides)}createMethodProxy(t,r,s){return function(){return t.overrideProcessing(r)?t.processMethod(r,arguments):t.hasMethod(r)?t.callMethod(r,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}}destroy(){this.parent=null}},pt=class{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){var t;const{componentInstance:r,element:s,destroy:n}=this.createComponent(e);this.componentInstance=r,this.unmount=n,this.element=(t=s.firstElementChild)!=null?t:s}};import{VanillaFrameworkOverrides as ht}from"ag-grid-community";var gt=class extends ht{constructor(e){super("vue"),this.parent=e}frameworkComponent(e,t){let r=k.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!r&&t&&t[e]){const s=t[e];r=k.searchForComponentInstance(this.parent,s,10,!0)?s:null}return r}isFrameworkComponent(e){return typeof e=="object"}},mt=new Set(["rowDataUpdated","cellValueChanged","rowValueChanged"]),me="onUpdate:modelValue",vt="update:modelValue",[wt,_t,yt]=lt(),Et=Ee({render(){return Ce("div")},props:g({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},wt),data(){return{api:void 0,gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},computed:_t,watch:yt,methods:{globalEventListenerFactory(e){return(t,r)=>{if(this.isDestroyed)return;t==="gridReady"&&(this.gridReadyFired=!0);const s=st.has(t);s&&!e||!s&&e||this.updateModelIfUsed(t)}},processChanges(e,t,r){if(this.gridCreated){if(this.skipChange(e,t,r))return;const s={[e]:e==="rowData"?Object.isFrozen(t)?t:G(c(t)):t};q.processOnChange(s,this.api)}},checkForBindingConflicts(){const e=this;(e.rowData||this.gridOptions.rowData)&&e.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){var e;const t=[];return(e=this.api)==null||e.forEachNode(r=>{t.push(r.data)}),t},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[me]&&mt.has(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=be(),t={};for(;e;)e&&e.provides&&(t=g(g({},t),e.provides)),e=e.parent;return t},skipChange(e,t,r){if(this.gridReadyFired&&e==="rowData"&&this.$attrs[me]){if(t===r)return!0;if(t&&r){const s=t,n=r;if(s.length===n.length){for(let o=0;o<s.length;o++)if(s[o]!==n[o])return!1;return!0}}}return!1},debounce(e,t){let r;return()=>{const s=function(){e()};window.clearTimeout(r),r=window.setTimeout(s,t)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(vt,Object.freeze(this.getRowData()))},20);const e=this.getProvides(),t=new dt(this,e),r=G(q.combineAttributesAndGridOptions(c(this.gridOptions),this));this.checkForBindingConflicts();const s=this.getRowDataBasedOnBindings();s!==q.VUE_OMITTED_PROPERTY&&(r.rowData=s&&(Object.isFrozen(s)?s:G(c(s))));const n={globalEventListener:this.globalEventListenerFactory().bind(this),globalSyncEventListener:this.globalEventListenerFactory(!0).bind(this),frameworkOverrides:new gt(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};this.api=ot(this.$el,r,n),this.gridCreated=!0},unmounted(){var e;this.gridCreated&&((e=this.api)==null||e.destroy(),this.isDestroyed=!0)}});export{Et as AgGridVue};/*! Bundled license information:

@vue/shared/dist/shared.esm-bundler.js:
  (**
  * @vue/shared v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)

@vue/reactivity/dist/reactivity.esm-bundler.js:
  (**
  * @vue/reactivity v3.4.21
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/
